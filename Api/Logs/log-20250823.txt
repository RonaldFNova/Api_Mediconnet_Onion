2025-08-23 15:56:19.984 -05:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Api_Mediconnet_Onion'
2025-08-23 15:56:20.144 -05:00 [INF] User profile is available. Using 'C:\Users\ronal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 15:56:20.238 -05:00 [INF] Now listening on: http://0.0.0.0:80
2025-08-23 15:56:20.243 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 15:56:20.244 -05:00 [INF] Hosting environment: Production
2025-08-23 15:56:20.245 -05:00 [INF] Content root path: C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api
2025-08-23 16:46:17.638 -05:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Api_Mediconnet_Onion'
2025-08-23 16:46:17.808 -05:00 [INF] User profile is available. Using 'C:\Users\ronal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 16:46:17.890 -05:00 [INF] Now listening on: http://0.0.0.0:80
2025-08-23 16:46:17.895 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 16:46:17.897 -05:00 [INF] Hosting environment: Production
2025-08-23 16:46:17.898 -05:00 [INF] Content root path: C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api
2025-08-23 16:47:50.320 -05:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Api_Mediconnet_Onion'
2025-08-23 16:47:50.474 -05:00 [INF] User profile is available. Using 'C:\Users\ronal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 16:47:50.546 -05:00 [INF] Now listening on: http://0.0.0.0:80
2025-08-23 16:47:50.551 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 16:47:50.552 -05:00 [INF] Hosting environment: Production
2025-08-23 16:47:50.554 -05:00 [INF] Content root path: C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api
2025-08-23 16:52:40.936 -05:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Api_Mediconnet_Onion'
2025-08-23 16:52:41.125 -05:00 [INF] User profile is available. Using 'C:\Users\ronal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 16:52:41.204 -05:00 [INF] Now listening on: http://localhost:5000
2025-08-23 16:52:41.209 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 16:52:41.211 -05:00 [INF] Hosting environment: Production
2025-08-23 16:52:41.212 -05:00 [INF] Content root path: C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api
2025-08-23 16:53:58.507 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-08-23 16:53:58.549 -05:00 [WRN] Failed to determine the https port for redirect.
2025-08-23 16:53:58.603 -05:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-23 16:53:58.615 -05:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-23 16:53:58.619 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/plain; charset=utf-8 115.1209ms
2025-08-23 16:53:58.653 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico - null null
2025-08-23 16:53:58.660 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/favicon.ico - 404 0 null 7.8405ms
2025-08-23 16:53:58.666 -05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/favicon.ico, Response status code: 404
2025-08-23 16:54:22.632 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario - application/json 128
2025-08-23 16:54:22.712 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 9:12:52 p. m.', Current time (UTC): '23/08/2025 9:54:22 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-23 16:54:22.737 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 9:12:52 p. m.', Current time (UTC): '23/08/2025 9:54:22 p. m.'.
2025-08-23 16:54:22.745 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2025-08-23 16:54:22.752 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-23 16:54:22.754 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario - 401 0 null 122.1268ms
2025-08-23 16:54:28.114 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Api/Usuario - application/json 129
2025-08-23 16:54:28.120 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 9:12:52 p. m.', Current time (UTC): '23/08/2025 9:54:28 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-23 16:54:28.123 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 9:12:52 p. m.', Current time (UTC): '23/08/2025 9:54:28 p. m.'.
2025-08-23 16:54:28.125 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 16:54:28.160 -05:00 [INF] Route matched with {action = "PostUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostUsuario(Api_Mediconnet.Application.DTOs.TUsuarioCreateDTO) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 16:54:29.149 -05:00 [INF] Executed DbCommand (138ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 50), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TUsuarios` (`CApellido`, `CEmail`, `CNombre`, `CPassword`, `DFechaRegistro`, `NEstadoUsuarioFK`, `NEstadoVerificacionFK`, `NRolFK`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `nUsuarioID`
FROM `TUsuarios`
WHERE ROW_COUNT() = 1 AND `nUsuarioID` = LAST_INSERT_ID();
2025-08-23 16:54:29.318 -05:00 [INF] Se creó usuario con ID: 11, Nombre: Ana, Email: rnaelfrfdefd@gmail.com
2025-08-23 16:54:29.901 -05:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`CNombre`
FROM `TUsuarios` AS `t`
INNER JOIN `TRol` AS `t0` ON `t`.`NRolFK` = `t0`.`NRolID`
WHERE `t`.`nUsuarioID` = @__id_0
LIMIT 1
2025-08-23 16:54:29.929 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-23 16:54:29.967 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api) in 1800.7139ms
2025-08-23 16:54:29.970 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 16:54:29.978 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Api/Usuario - 200 null application/json; charset=utf-8 1864.4989ms
2025-08-23 16:56:38.240 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario - application/json 129
2025-08-23 16:56:38.257 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuarios (Api_Mediconnet.Api)'
2025-08-23 16:56:38.266 -05:00 [INF] Route matched with {action = "GetUsuarios", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsuarios() on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 16:56:38.810 -05:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`nUsuarioID`, `t`.`CApellido`, `t`.`CEmail`, `t`.`CNombre`, `t`.`CPassword`, `t`.`DFechaRegistro`, `t`.`NEstadoUsuarioFK`, `t`.`NEstadoVerificacionFK`, `t`.`NRolFK`
FROM `TUsuarios` AS `t`
2025-08-23 16:56:38.822 -05:00 [INF] Se busco toda la informacion de los usuarios
2025-08-23 16:56:38.825 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Api_Mediconnet.Domain.Entities.TUsuarios, Api_Mediconnet.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api_Mediconnet.Application.DTOs.TUsuarioResponseDTO, Api_Mediconnet.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-23 16:56:38.846 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuarios (Api_Mediconnet.Api) in 576.4039ms
2025-08-23 16:56:38.849 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuarios (Api_Mediconnet.Api)'
2025-08-23 16:56:38.851 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario - 200 null application/json; charset=utf-8 611.1087ms
2025-08-23 16:57:16.775 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario - application/json 130
2025-08-23 16:57:16.780 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuarios (Api_Mediconnet.Api)'
2025-08-23 16:57:16.782 -05:00 [INF] Route matched with {action = "GetUsuarios", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsuarios() on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 16:57:17.206 -05:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`nUsuarioID`, `t`.`CApellido`, `t`.`CEmail`, `t`.`CNombre`, `t`.`CPassword`, `t`.`DFechaRegistro`, `t`.`NEstadoUsuarioFK`, `t`.`NEstadoVerificacionFK`, `t`.`NRolFK`
FROM `TUsuarios` AS `t`
2025-08-23 16:57:17.209 -05:00 [INF] Se busco toda la informacion de los usuarios
2025-08-23 16:57:17.211 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Api_Mediconnet.Domain.Entities.TUsuarios, Api_Mediconnet.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api_Mediconnet.Application.DTOs.TUsuarioResponseDTO, Api_Mediconnet.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-23 16:57:17.213 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuarios (Api_Mediconnet.Api) in 429.072ms
2025-08-23 16:57:17.214 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuarios (Api_Mediconnet.Api)'
2025-08-23 16:57:17.216 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario - 200 null application/json; charset=utf-8 441.0886ms
2025-08-23 16:57:42.385 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Api/Usuario - application/json 130
2025-08-23 16:57:42.389 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 16:57:42.392 -05:00 [INF] Route matched with {action = "PostUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostUsuario(Api_Mediconnet.Application.DTOs.TUsuarioCreateDTO) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 16:57:43.104 -05:00 [INF] Executed DbCommand (217ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 50), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TUsuarios` (`CApellido`, `CEmail`, `CNombre`, `CPassword`, `DFechaRegistro`, `NEstadoUsuarioFK`, `NEstadoVerificacionFK`, `NRolFK`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `nUsuarioID`
FROM `TUsuarios`
WHERE ROW_COUNT() = 1 AND `nUsuarioID` = LAST_INSERT_ID();
2025-08-23 16:57:43.219 -05:00 [INF] Se creó usuario con ID: 12, Nombre: Ana, Email: rnaeflfrfdefd@gmail.com
2025-08-23 16:57:43.543 -05:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`CNombre`
FROM `TUsuarios` AS `t`
INNER JOIN `TRol` AS `t0` ON `t`.`NRolFK` = `t0`.`NRolID`
WHERE `t`.`nUsuarioID` = @__id_0
LIMIT 1
2025-08-23 16:57:43.547 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-23 16:57:43.548 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api) in 1154.0454ms
2025-08-23 16:57:43.550 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 16:57:43.551 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Api/Usuario - 200 null application/json; charset=utf-8 1166.8222ms
