2025-08-23 17:13:56.011 -05:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Api_Mediconnet_Onion'
2025-08-23 17:13:56.162 -05:00 [INF] User profile is available. Using 'C:\Users\ronal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 17:13:56.230 -05:00 [INF] Now listening on: http://localhost:5000
2025-08-23 17:13:56.234 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 17:13:56.238 -05:00 [INF] Hosting environment: Production
2025-08-23 17:13:56.239 -05:00 [INF] Content root path: C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api
2025-08-23 17:16:03.062 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Api/Usuario - application/json 131
2025-08-23 17:16:03.117 -05:00 [WRN] Failed to determine the https port for redirect.
2025-08-23 17:16:03.263 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 17:16:03.299 -05:00 [INF] Route matched with {action = "PostUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostUsuario(Api_Mediconnet.Application.DTOs.TUsuarioCreateDTO) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 17:16:04.583 -05:00 [INF] Executed DbCommand (260ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 50), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TUsuarios` (`CApellido`, `CEmail`, `CNombre`, `CPassword`, `DFechaRegistro`, `NEstadoUsuarioFK`, `NEstadoVerificacionFK`, `NRolFK`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `nUsuarioID`
FROM `TUsuarios`
WHERE ROW_COUNT() = 1 AND `nUsuarioID` = LAST_INSERT_ID();
2025-08-23 17:16:04.735 -05:00 [INF] Se creó usuario con ID: 13, Nombre: Ana, Email: rnaefglfrfdefd@gmail.com
2025-08-23 17:16:05.229 -05:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`CNombre`
FROM `TUsuarios` AS `t`
INNER JOIN `TRol` AS `t0` ON `t`.`NRolFK` = `t0`.`NRolID`
WHERE `t`.`nUsuarioID` = @__id_0
LIMIT 1
2025-08-23 17:16:05.282 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-23 17:16:05.337 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api) in 2026.1517ms
2025-08-23 17:16:05.343 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 17:16:05.355 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Api/Usuario - 200 null application/json; charset=utf-8 2294.7825ms
2025-08-23 17:16:37.308 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario/1 - application/json 131
2025-08-23 17:16:37.321 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:16:37.332 -05:00 [INF] Route matched with {action = "GetUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsuario(Int32) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 17:16:37.807 -05:00 [INF] Executed DbCommand (95ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`nUsuarioID`, `t`.`CApellido`, `t`.`CEmail`, `t`.`CNombre`, `t`.`CPassword`, `t`.`DFechaRegistro`, `t`.`NEstadoUsuarioFK`, `t`.`NEstadoVerificacionFK`, `t`.`NRolFK`
FROM `TUsuarios` AS `t`
WHERE `t`.`nUsuarioID` = @__p_0
LIMIT 1
2025-08-23 17:16:37.815 -05:00 [INF] Se busco informacion del usuario con ID: 1
2025-08-23 17:16:37.817 -05:00 [INF] Executing OkObjectResult, writing value of type 'Api_Mediconnet.Application.DTOs.TUsuarioResponseDTO'.
2025-08-23 17:16:37.825 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api) in 489.5012ms
2025-08-23 17:16:37.832 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:16:37.849 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario/1 - 200 null application/json; charset=utf-8 540.5585ms
2025-08-23 17:16:49.105 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario/-4 - application/json 131
2025-08-23 17:16:49.112 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:16:49.115 -05:00 [INF] Route matched with {action = "GetUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsuario(Int32) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 17:16:49.664 -05:00 [INF] Executed DbCommand (106ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`nUsuarioID`, `t`.`CApellido`, `t`.`CEmail`, `t`.`CNombre`, `t`.`CPassword`, `t`.`DFechaRegistro`, `t`.`NEstadoUsuarioFK`, `t`.`NEstadoVerificacionFK`, `t`.`NRolFK`
FROM `TUsuarios` AS `t`
WHERE `t`.`nUsuarioID` = @__p_0
LIMIT 1
2025-08-23 17:16:49.669 -05:00 [ERR] No se encontró el usuario con ID -4
2025-08-23 17:16:49.671 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api) in 553.7956ms
2025-08-23 17:16:49.673 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:16:49.676 -05:00 [ERR] Se produjo un error no controlado.
Api_Mediconnet.Common.Exceptions.NotFoundException: La entidad 'Usuario' con clave 'id' no fue encontrada.
   at Api_Mediconnet.Application.Services.TUsuariosService.GetUsuariosIdAsync(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\Application\Services\TUsuariosService.cs:line 48
   at Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Controllers\UsuariosController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Api_Mediconnet.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext httpContent) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Middleware\ErrorHandlingMiddleware.cs:line 21
2025-08-23 17:16:49.753 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario/-4 - 500 null application/json 647.5194ms
2025-08-23 17:33:55.582 -05:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Api_Mediconnet_Onion'
2025-08-23 17:33:55.757 -05:00 [INF] User profile is available. Using 'C:\Users\ronal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 17:33:55.837 -05:00 [INF] Now listening on: http://localhost:5000
2025-08-23 17:33:55.841 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 17:33:55.843 -05:00 [INF] Hosting environment: Production
2025-08-23 17:33:55.845 -05:00 [INF] Content root path: C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api
2025-08-23 17:35:39.339 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario/-4 - application/json 131
2025-08-23 17:35:39.413 -05:00 [WRN] Failed to determine the https port for redirect.
2025-08-23 17:35:39.544 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:35:39.587 -05:00 [INF] Route matched with {action = "GetUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsuario(Int32) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 17:35:40.566 -05:00 [INF] Executed DbCommand (166ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`nUsuarioID`, `t`.`CApellido`, `t`.`CEmail`, `t`.`CNombre`, `t`.`CPassword`, `t`.`DFechaRegistro`, `t`.`NEstadoUsuarioFK`, `t`.`NEstadoVerificacionFK`, `t`.`NRolFK`
FROM `TUsuarios` AS `t`
WHERE `t`.`nUsuarioID` = @__p_0
LIMIT 1
2025-08-23 17:35:40.585 -05:00 [ERR] No se encontró el usuario con ID -4
2025-08-23 17:35:40.605 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api) in 1009.5084ms
2025-08-23 17:35:40.609 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:35:40.614 -05:00 [ERR] Se produjo un error no controlado.
Api_Mediconnet.Common.Exceptions.NotFoundException: La entidad 'Usuario' con clave 'id' no fue encontrada.
   at Api_Mediconnet.Application.Services.TUsuariosService.GetUsuariosIdAsync(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\Application\Services\TUsuariosService.cs:line 48
   at Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Controllers\UsuariosController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Api_Mediconnet.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext httpContent) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Middleware\ErrorHandlingMiddleware.cs:line 21
2025-08-23 17:35:40.783 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario/-4 - 500 null application/json 1446.8153ms
2025-08-23 17:36:26.620 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario/-4 - application/json 131
2025-08-23 17:36:26.630 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:36:26.633 -05:00 [INF] Route matched with {action = "GetUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsuario(Int32) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 17:36:27.126 -05:00 [INF] Executed DbCommand (99ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`nUsuarioID`, `t`.`CApellido`, `t`.`CEmail`, `t`.`CNombre`, `t`.`CPassword`, `t`.`DFechaRegistro`, `t`.`NEstadoUsuarioFK`, `t`.`NEstadoVerificacionFK`, `t`.`NRolFK`
FROM `TUsuarios` AS `t`
WHERE `t`.`nUsuarioID` = @__p_0
LIMIT 1
2025-08-23 17:36:27.131 -05:00 [ERR] No se encontró el usuario con ID -4
2025-08-23 17:36:27.133 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api) in 497.2756ms
2025-08-23 17:36:27.135 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 17:36:27.137 -05:00 [ERR] Se produjo un error no controlado.
Api_Mediconnet.Common.Exceptions.NotFoundException: La entidad 'Usuario' con clave 'id' no fue encontrada.
   at Api_Mediconnet.Application.Services.TUsuariosService.GetUsuariosIdAsync(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\Application\Services\TUsuariosService.cs:line 48
   at Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Controllers\UsuariosController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Api_Mediconnet.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext httpContent) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Middleware\ErrorHandlingMiddleware.cs:line 21
2025-08-23 17:36:27.144 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario/-4 - 500 null application/json 524.4656ms
2025-08-23 18:24:20.573 -05:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Api_Mediconnet_Onion'
2025-08-23 18:24:20.752 -05:00 [INF] User profile is available. Using 'C:\Users\ronal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 18:24:20.833 -05:00 [INF] Now listening on: http://localhost:5000
2025-08-23 18:24:20.838 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 18:24:20.839 -05:00 [INF] Hosting environment: Production
2025-08-23 18:24:20.841 -05:00 [INF] Content root path: C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api
2025-08-23 18:31:49.669 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Api/Usuario/-4 - application/json 132
2025-08-23 18:31:49.717 -05:00 [WRN] Failed to determine the https port for redirect.
2025-08-23 18:31:49.840 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:31:49 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-23 18:31:49.864 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:31:49 p. m.'.
2025-08-23 18:31:49.871 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-08-23 18:31:49.874 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-08-23 18:31:49.883 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Api/Usuario/-4 - 405 0 null 215.8885ms
2025-08-23 18:31:56.064 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Api/Usuario - application/json 132
2025-08-23 18:31:56.072 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:31:56 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-23 18:31:56.075 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:31:56 p. m.'.
2025-08-23 18:31:56.077 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 18:31:56.132 -05:00 [INF] Route matched with {action = "PostUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostUsuario(Api_Mediconnet.Application.DTOs.TUsuarioCreateDTO) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 18:31:58.669 -05:00 [INF] Executed DbCommand (252ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 50), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TUsuarios` (`CApellido`, `CEmail`, `CNombre`, `CPassword`, `DFechaRegistro`, `NEstadoUsuarioFK`, `NEstadoVerificacionFK`, `NRolFK`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `nUsuarioID`
FROM `TUsuarios`
WHERE ROW_COUNT() = 1 AND `nUsuarioID` = LAST_INSERT_ID();
2025-08-23 18:31:58.815 -05:00 [INF] Se creó usuario con ID: 14, Nombre: Ana, Email: rnaeffglfrfdefd@gmail.com
2025-08-23 18:31:59.308 -05:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`CNombre`
FROM `TUsuarios` AS `t`
INNER JOIN `TRol` AS `t0` ON `t`.`NRolFK` = `t0`.`NRolID`
WHERE `t`.`nUsuarioID` = @__id_0
LIMIT 1
2025-08-23 18:31:59.331 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-23 18:31:59.366 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api) in 3225.3229ms
2025-08-23 18:31:59.371 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 18:31:59.379 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Api/Usuario - 200 null application/json; charset=utf-8 3315.8014ms
2025-08-23 18:32:06.023 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario - application/json 132
2025-08-23 18:32:06.031 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:32:06 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-23 18:32:06.034 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:32:06 p. m.'.
2025-08-23 18:32:06.043 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2025-08-23 18:32:06.051 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-23 18:32:06.053 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario - 401 0 null 29.8227ms
2025-08-23 18:45:28.325 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario - application/json 133
2025-08-23 18:45:28.330 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:45:28 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-23 18:45:28.333 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:45:28 p. m.'.
2025-08-23 18:45:28.336 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2025-08-23 18:45:28.340 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-23 18:45:28.342 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario - 401 0 null 17.6804ms
2025-08-23 18:45:32.003 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Api/Usuario - application/json 133
2025-08-23 18:45:32.009 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:45:32 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-23 18:45:32.012 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23/08/2025 11:16:05 p. m.', Current time (UTC): '23/08/2025 11:45:32 p. m.'.
2025-08-23 18:45:32.015 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 18:45:32.017 -05:00 [INF] Route matched with {action = "PostUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostUsuario(Api_Mediconnet.Application.DTOs.TUsuarioCreateDTO) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 18:45:34.069 -05:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 50), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TUsuarios` (`CApellido`, `CEmail`, `CNombre`, `CPassword`, `DFechaRegistro`, `NEstadoUsuarioFK`, `NEstadoVerificacionFK`, `NRolFK`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `nUsuarioID`
FROM `TUsuarios`
WHERE ROW_COUNT() = 1 AND `nUsuarioID` = LAST_INSERT_ID();
2025-08-23 18:45:34.175 -05:00 [INF] Se creó usuario con ID: 15, Nombre: Ana, Email: rnaeffglgfrfdefd@gmail.com
2025-08-23 18:45:34.517 -05:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`CNombre`
FROM `TUsuarios` AS `t`
INNER JOIN `TRol` AS `t0` ON `t`.`NRolFK` = `t0`.`NRolID`
WHERE `t`.`nUsuarioID` = @__id_0
LIMIT 1
2025-08-23 18:45:34.522 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-23 18:45:34.524 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api) in 2503.3273ms
2025-08-23 18:45:34.526 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.PostUsuario (Api_Mediconnet.Api)'
2025-08-23 18:45:34.528 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Api/Usuario - 200 null application/json; charset=utf-8 2524.3899ms
2025-08-23 18:45:44.794 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Api/Usuario/-3 - application/json 133
2025-08-23 18:45:44.809 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-08-23 18:45:44.811 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-08-23 18:45:44.813 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Api/Usuario/-3 - 405 0 null 18.8387ms
2025-08-23 18:45:49.758 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Api/Usuario/-3 - application/json 133
2025-08-23 18:45:49.765 -05:00 [INF] Executing endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 18:45:49.773 -05:00 [INF] Route matched with {action = "GetUsuario", controller = "Usuarios"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsuario(Int32) on controller Api_Mediconnet.Api.Controllers.UsuariosController (Api_Mediconnet.Api).
2025-08-23 18:45:50.253 -05:00 [INF] Executed DbCommand (106ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`nUsuarioID`, `t`.`CApellido`, `t`.`CEmail`, `t`.`CNombre`, `t`.`CPassword`, `t`.`DFechaRegistro`, `t`.`NEstadoUsuarioFK`, `t`.`NEstadoVerificacionFK`, `t`.`NRolFK`
FROM `TUsuarios` AS `t`
WHERE `t`.`nUsuarioID` = @__p_0
LIMIT 1
2025-08-23 18:45:50.256 -05:00 [ERR] No se encontró el usuario con ID -3
2025-08-23 18:45:50.258 -05:00 [INF] Executed action Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api) in 481.6748ms
2025-08-23 18:45:50.260 -05:00 [INF] Executed endpoint 'Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario (Api_Mediconnet.Api)'
2025-08-23 18:45:50.262 -05:00 [ERR] Se produjo un error no controlado.
Api_Mediconnet.Common.Exceptions.NotFoundException: La entidad 'Usuario' con clave 'id' no fue encontrada.
   at Api_Mediconnet.Application.Services.TUsuariosService.GetUsuariosIdAsync(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\Application\Services\TUsuariosService.cs:line 48
   at Api_Mediconnet.Api.Controllers.UsuariosController.GetUsuario(Int32 id) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Controllers\UsuariosController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Api_Mediconnet.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext httpContent) in C:\Users\ronal\Desktop\Archivos\Api_Mediconnet_Onion\api\Middleware\ErrorHandlingMiddleware.cs:line 21
2025-08-23 18:45:50.286 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Api/Usuario/-3 - 500 null application/json 527.2387ms
